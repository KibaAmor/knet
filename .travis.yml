language: cpp

dist:
  - xenial
  - bionic

compiler:
  - clang
  - gcc

os:
  - linux

branches:
  only:
  - master

before_script:
  - printenv
  - mkdir -p $TRAVIS_BUILD_DIR/build && cd $TRAVIS_BUILD_DIR/build && cmake ..

script:
  - cd $TRAVIS_BUILD_DIR/build && cmake --build . --config Debug --target ALL_BUILD -j2 && ctest .
  - cd $TRAVIS_BUILD_DIR/build && cmake --build . --config Release --target ALL_BUILD -j2 && ctest .

notifications:
  email: false